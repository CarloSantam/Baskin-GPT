# -*- coding: utf-8 -*-
"""
Created on Sun Sep 28 18:49:03 2025

@author: Admin
"""

import json
import re

# Full regulation text from user
regulation_text = """Campo di basket (misure standard) con due canestri tradizionali più due canestri laterali posti trasversalmente al campo (sul perimetro a metà campo) con h=2.20 mt e con due aree semicircolari (con raggio di 3 metri) suddivise in cinque settori. Sotto il canestro laterale è possibile inserire un altro canestro più basso per i ruoli 1 (h=1.10 mt). Le due aree semicircolari si possono tracciare utilizzando lo scotch. Una seconda semicirconferenza tratteggiata di Raggio 3.70 mt indica la zona in cui un fallo subito da un giocatore che sta portando la palla al Pivot determina automaticamente il conferimento della palla al Pivot per il tiro. Se la palla tocca il piantone del canestro o uno dei due canestri è in gioco, se tocca la pedana in plastica o i sostegni del piantone, ruote comprese, è fuori. Mt. 3 Canestro Canestro Canestro laterale alto e basso Canestro laterale alto e basso Figura 1: Campo da basket adattato, versione con aree rettangolari e trapezoidali Figura 2: Ingrandimento dell’area laterale con suddivisione in settori h = m 2.20 h = m 1.10 Figura 3: Esempio di canestro laterale alto e basso Tempo di Gioco 4 tempi da 8 minuti ciascuno. Il tempo viene bloccato ad ogni fischio dell’arbitro. Sui canestri effettuati nelle postazioni laterali il tempo viene fermato, non viene fermato su quelli fatti nelle postazioni tradizionali tranne che negli ultimi due minuti di gioco e negli eventuali tempi supplementari. In caso di parità al termine del 4 tempo si effettueranno, ad oltranza, tempi supplementari di 4 minuti ciascuno. Palla da Gioco Viene utilizzato il pallone grandezza n° 5 (usato nel mini-basket) sostituibile con altre palle di dimensioni e pesi diversi per il ruolo 1. Queste vengono messe ai piedi dei canestri piccoli. Le squadre, l’arbitro e gli ufficiali di campo hanno il compito di controllare ad ogni inizio tempo la presenza dei palloni diversi. Arbitro È previsto almeno un arbitro. Numero di Giocatori Fino a 14 giocatori per squadra dei quali 6 obbligatoriamente in campo, successivamente se per falli o infortuni il numero dovesse ridursi non può comunque scendere sotto i 4 giocatori, in tal caso (solo 3 giocatori disponibili) la squadra avversaria ha vinto la partita. Ad ogni giocatore viene attribuito un ruolo che va da 1 a 5 secondo le caratteristiche in seguito elencate. Pertanto ad ogni giocatore verrà assegnato un numero composto da 2 cifre: la prima si riferisce al suo ruolo, la seconda è identificativa della persona. La somma dei numeri che indicano il ruolo non deve superare il valore di 23. Tutti i giocatori devono entrare in campo. I numeri devono essere ben visibili, sulle maglie di gioco, sia davanti che dietro. I Ruoli I ruoli vengono assegnati in base al possesso delle grandi prassie: l’uso delle mani, il cammino, la corsa, l’equilibrio. Sulla maglia è il primo numero sulla sinistra. numero 5: giocatore con o senza disabilità che possiede tutti i fondamentali del Baskin. numero 4: giocatore con o senza disabilità o con protesi che gli consenta il cammino e la corsa (la valutazione funzionale durante la partita determinerà la conferma del Ruolo 4 o il cambiamento a un Ruolo diverso) che possiede le grandi prassie (l’uso totale o parziale delle mani quindi il tiro, il cammino, la corsa fluida con palleggio regolare) può commettere passi di partenza ed esegue i fondamentali del Baskin con velocità media. Non deve effettuare il canestro con l’entrata in terzo tempo. numero 3: giocatore con o senza disabilità che possiede l’uso totale o parziale delle mani, quindi il tiro anche nel canestro tradizionale, il cammino, la corsa anche con palleggio non continuato o interrotto. Non possiede la corsa fluida ma lenta, impacciata, poco coordinata e/o con scarso equilibrio. numero 2: giocatore con disabilità con l’uso totale o parziale delle mani per il tiro nel canestro laterale alto, il cammino gli consente di spostarsi. Non possiede la corsa o non è in grado di utilizzarla (Ruolo 2R, Ruolo 2 che può correre o se in carrozzina possiede i fondamentali del basket in carrozzina): è un pivot di movimento, quindi si sposta. Quando riceve la palla, facendo almeno due palleggi, deve recarsi in uno dei tre settori ed effettuare il tiro oltrepassata la linea dell’area, per il Ruolo 2R la linea da oltrepassare è quella tratteggiata. Non può essere marcato. Ha a disposizione 10 secondi (7 secondi per il ruolo 2R) da quando il compagno entra nell’area. Se il ruolo n. 2 è un giocatore in carrozzina deve spostarsi autonomamente eseguendo almeno 2 palleggi solo se riesce a spingere la carrozzina con entrambe le mani, se invece possiede la forza e l’abilità solo in un arto superiore, potrà essere spostato nella postazione di tiro dal compagno che gli ha portato la palla (durante questa azione non contano passi e doppio: la palla può essere tenuta in mano dal Tutor mentre effettua lo spostamento del pivot) e non dovrà effettuare i due palleggi prima di tirare inoltre la palla può essergli consegnata anche dopo che il Pivot è stato posizionato fuori dall’area, in questo caso il ruolo 2 si definisce 2T (2 + Tutor) in questo Ruolo si deve far rientrare anche un Giocatore che si sposta con l’aiuto del deambulatore in quanto impossibilitato ad andare a rimbalzo, trasportare e raccogliere la palla. Il ruolo 2 P (2 + Palla) è un giocatore di ruolo 2 che si sposta autonomamente ma non riesce in modo assoluto a manipolare e tirare la palla da gioco. numero 1: giocatore con disabilità che non può spostarsi (per deficit motori) nemmeno con la carrozzina se non spinto da altri e con nessuno dei due arti superiori riesce a spostare la carrozzina per almeno un giro di ruota, è in possesso solo del tiro, staziona nell’area dei canestri laterali, a lui la palla deve essere consegnata da un compagno. Quando la riceve, questa può essere sostituita da una palla più piccola da lui scelta e posta alla base del canestro. Dalla consegna della palla da parte del compagno entrato in area ha 10 secondi di tempo per arrivare al tiro. ... Regola 10 – Altre differenze col Basket Non esiste l’infrazione di campo né un numero massimo di secondi per superare la metà campo, non esiste l’infrazione di 3 secondi, non esiste il bonus falli, esiste la contesa da effettuarsi sempre al centro campo. Ogni squadra ha a disposizione n. 1 time out per quarto di gioco ed uno per ogni tempo supplementare. I time out non chiamati possono essere utilizzati nei quarti successivi nel seguente modo: se non viene chiamato il time out nel primo quarto questo potrà essere chiamato nel secondo, se invece non viene chiamato il time out nel terzo quarto, questo potrà essere chiamato nel quarto quarto. Non sono possibili altri tipi di accumulo se non quelli indicati. Non esiste la rimessa in fase di attacco in uscita da un time out. Deroghe al Regolamento e situazioni particolari I ruoli Pivot (1S, 1, 2T, 2, 2R) possono avvalersi della facoltà di utilizzare deroghe al regolamento nel caso in cui, nonostante le regole previste per il ruolo ricoperto, essi non riescano a eseguire l’azione di tiro. Le deroghe eventualmente concesse, anche una sola, escludono per l'atleta richiedente la possibilità del tiro da tre punti. Essi potranno comunque eseguire un tiro da tre punti ma se effettuano il canestro esso avrà sempre un valore di due punti. Le deroghe vanno indicate sulla lista R e sul referto di gioco nell'apposita zona dedicata. Le deroghe che possono essere richieste sono di tre tipologie sommabili tra loro: Deroga di Tempo: I giocatori classificati come Ruoli 1S, 1, 2, 2T, 2R che non riescono a concludere l’azione di tiro nel tempo previsto dal regolamento possono richiedere un aumento del tempo di tiro di massimo 5 secondi. Deroga di Spazio: I giocatori classificati come Ruoli 2T, 2, 2R che non riescono ad effettuare il tiro dalla distanza prevista dal loro ruolo possono chiedere un avanzamento della linea di tiro. la distanza dovrà essere congrua con la forza posseduta dal giocatore. Deroga di Canestro: I giocatori classificati come Ruoli 2, 2T, 2R che a causa di impedimenti anatomici e/o funzionali non possono indirizzare la palla al canestro posto a 2,20m neppure con l'utilizzo delle deroghe di “spazio e/o tempo”, possono richiedere la deroga di “Canestro” per utilizzare il canestro posto a 1,10 m. Questa deroga può essere concessa solo dopo che la Commissione Tecnica locale, previa analisi della situazione, ne consenta l’applicazione. Il cambio di palla non è considerato deroga ed è concesso solo ai ruoli 1S e 1 esclusivamente nei casi in cui essi non riescano a tirare utilizzando la palla di gioco. La scelta della palla da utilizzare deve essere proporzionata alla funzionalità del giocatore che la richiede. Per tutte le situazioni ed esigenze particolari non previste dal regolamento esiste la possibilità di elaborare deroghe in via sperimentale con lo scopo di includere i giocatori che non riescono ad eseguire l’azione di tiro neppure usufruendo delle deroghe precedentemente descritte. Per queste situazioni ed esigenze particolari è obbligatorio rivolgersi alla propria Commissione Tecnica Locale che, dopo essersi consultata con la Commissione Tecnica Nazionale e averne avuto l'approvazione, ha la possibilità, se necessario, di definire e applicare deroghe in via sperimentale. La Commissione Tecnica Nazionale si riserva un tempo massimo di 15 giorni dalla consultazione per esprimersi sulla vicenda."""

# Regex to split into sentences more accurately
pattern = r'(?<=[.!?])\s+(?=[A-ZÀ-Ú])|(?=\bRegola\s+\d)|(?=\bFigura\s+\d)|(?=\bnumero\s+\d)|(?=\bDeroga\s+di)'
sentences = re.split(pattern, regulation_text)

# Clean up sentences
cleaned_sentences = [s.strip() for s in sentences if s.strip() and s.strip() != "Mt."]

# Build JSON
data_detailed = [{"sentence": s, "categoria": "Baskin"} for s in cleaned_sentences]

# Save to JSON
file_path_detailed = "/mnt/data/regolamento_baskin_completo_dettagliato.json"
with open(file_path_detailed, "w", encoding="utf-8") as f:
    json.dump(data_detailed, f, ensure_ascii=False, indent=4)

len(data_detailed), file_path_detailed
